<div class="container"
    *ngIf="{hasSelectedRegion: eventBus.videHasSelectedRegion$ | async, tagged: eventBus.videSelectedRegionHasTagged$ | async} as state">
    <div class="cell">
        <label>
            Track ID:
            <input [disabled]="!state.tagged" type="number" [value]="eventBus.currentTrackId$ | async"
                (change)="trackIdChange($event)" />
        </label>
    </div>
    <div class="cell">
        <button [disabled]="!state.hasSelectedRegion" mat-stroked-button class="secondary frame-control" title="First Key Frame"
            (click)="changeFrame('first')">
            First
        </button>
    </div>

    <div class="cell">
        <button [disabled]="!state.hasSelectedRegion" mat-stroked-button class="secondary frame-control" title="Previous Key Frame" (click)="changeFrame('previous')">
            Previous
        </button>
    </div>

    <div class="cell">
        <button [disabled]="!state.hasSelectedRegion" mat-stroked-button class="secondary frame-control" title="Next Key Frame" (click)="changeFrame('next')">
            Next
        </button>
    </div>

    <div class="cell">
        <button [disabled]="!state.hasSelectedRegion" mat-stroked-button class="secondary frame-control" title="Last Key Frame" (click)="changeFrame('last')">
            Last
        </button>
    </div>

    <ng-container>
        <div *ngFor="let label of eventBus.labelUpdateEvent$ | async" class="cell">
            <button [disabled]="!state.hasSelectedRegion" (click)="toggleTag(label.name)" mat-raised-button [style.background-color]="label.color">
                {{ label.name }}
            </button>
        </div>
    </ng-container>

    <div class="cell">
        <label>
            Search:
            <input #search type="number" [value]="eventBus.currentTrackId$ | async" />
        </label>
    </div>
    <div class="cell">
        <button class="primary" mat-raised-button (click)="searchRegion(search.value)">
            Search
        </button>
    </div>
    <div class="cell">
        <button [disabled]="!state.hasSelectedRegion" mat-raised-button color="warn" (click)="deleteAll(search.value)">
            Delete All
        </button> 
    </div>
    <div class="cell">
        <button class="primary" [disabled]="!state.hasSelectedRegion" mat-raised-button (click)="queryFace()">
            Query Face
        </button>
    </div>
</div>